auxCell(0,0,0). auxCell(0,0,1). auxCell(0,0,2). auxCell(0,0,3). auxCell(0,0,4). auxCell(0,0,5). auxCell(0,0,6). auxCell(0,0,7). auxCell(0,0,8). auxCell(0,0,9). auxCell(0,0,10). auxCell(0,1,0). auxCell(2,1,1). auxCell(0,1,2). auxCell(0,1,3). auxCell(0,1,4). auxCell(0,1,5). auxCell(0,1,6). auxCell(0,1,7). auxCell(0,1,8). auxCell(0,1,9). auxCell(0,1,10). auxCell(0,2,0). auxCell(0,2,1). auxCell(0,2,2). auxCell(0,2,3). auxCell(0,2,4). auxCell(0,2,5). auxCell(0,2,6). auxCell(0,2,7). auxCell(0,2,8). auxCell(0,2,9). auxCell(0,2,10). auxCell(0,3,0). auxCell(0,3,1). auxCell(0,3,2). auxCell(0,3,3). auxCell(0,3,4). auxCell(0,3,5). auxCell(0,3,6). auxCell(0,3,7). auxCell(0,3,8). auxCell(0,3,9). auxCell(0,3,10). auxCell(0,4,0). auxCell(0,4,1). auxCell(0,4,2). auxCell(0,4,3). auxCell(0,4,4). auxCell(1,4,5). auxCell(0,4,6). auxCell(0,4,7). auxCell(0,4,8). auxCell(0,4,9). auxCell(0,4,10). auxCell(0,5,0). auxCell(0,5,1). auxCell(0,5,2). auxCell(0,5,3). auxCell(0,5,4). auxCell(1,5,5). auxCell(0,5,6). auxCell(0,5,7). auxCell(0,5,8). auxCell(0,5,9). auxCell(0,5,10). auxCell(0,6,0). auxCell(0,6,1). auxCell(0,6,2). auxCell(0,6,3). auxCell(0,6,4). auxCell(1,6,5). auxCell(0,6,6). auxCell(0,6,7). auxCell(0,6,8). auxCell(0,6,9). auxCell(0,6,10). auxCell(0,7,0). auxCell(0,7,1). auxCell(0,7,2). auxCell(0,7,3). auxCell(0,7,4). auxCell(0,7,5). auxCell(0,7,6). auxCell(0,7,7). auxCell(0,7,8). auxCell(0,7,9). auxCell(0,7,10). auxCell(0,8,0). auxCell(0,8,1). auxCell(0,8,2). auxCell(0,8,3). auxCell(2,8,4). auxCell(0,8,5). auxCell(0,8,6). auxCell(0,8,7). auxCell(0,8,8). auxCell(0,8,9). auxCell(0,8,10). auxCell(0,9,0). auxCell(0,9,1). auxCell(0,9,2). auxCell(0,9,3). auxCell(0,9,4). auxCell(0,9,5). auxCell(0,9,6). auxCell(0,9,7). auxCell(0,9,8). auxCell(0,9,9). auxCell(0,9,10). auxCell(0,10,0). auxCell(0,10,1). auxCell(0,10,2). auxCell(0,10,3). auxCell(0,10,4). auxCell(0,10,5). auxCell(0,10,6). auxCell(0,10,7). auxCell(0,10,8). auxCell(0,10,9). auxCell(0,10,10). ai(2). auxCell(0,0,0). auxCell(0,0,1). auxCell(0,0,2). auxCell(0,0,3). auxCell(0,0,4). auxCell(0,0,5). auxCell(0,0,6). auxCell(0,0,7). auxCell(0,0,8). auxCell(0,0,9). auxCell(0,0,10). auxCell(0,1,0). auxCell(2,1,1). auxCell(0,1,2). auxCell(0,1,3). auxCell(0,1,4). auxCell(0,1,5). auxCell(0,1,6). auxCell(0,1,7). auxCell(0,1,8). auxCell(0,1,9). auxCell(0,1,10). auxCell(0,2,0). auxCell(0,2,1). auxCell(0,2,2). auxCell(0,2,3). auxCell(0,2,4). auxCell(0,2,5). auxCell(0,2,6). auxCell(0,2,7). auxCell(0,2,8). auxCell(0,2,9). auxCell(0,2,10). auxCell(0,3,0). auxCell(0,3,1). auxCell(0,3,2). auxCell(0,3,3). auxCell(0,3,4). auxCell(0,3,5). auxCell(0,3,6). auxCell(0,3,7). auxCell(0,3,8). auxCell(0,3,9). auxCell(0,3,10). auxCell(0,4,0). auxCell(0,4,1). auxCell(0,4,2). auxCell(0,4,3). auxCell(0,4,4). auxCell(1,4,5). auxCell(0,4,6). auxCell(0,4,7). auxCell(0,4,8). auxCell(0,4,9). auxCell(0,4,10). auxCell(0,5,0). auxCell(0,5,1). auxCell(0,5,2). auxCell(0,5,3). auxCell(0,5,4). auxCell(1,5,5). auxCell(0,5,6). auxCell(0,5,7). auxCell(0,5,8). auxCell(0,5,9). auxCell(0,5,10). auxCell(0,6,0). auxCell(0,6,1). auxCell(0,6,2). auxCell(0,6,3). auxCell(0,6,4). auxCell(1,6,5). auxCell(0,6,6). auxCell(0,6,7). auxCell(0,6,8). auxCell(0,6,9). auxCell(0,6,10). auxCell(0,7,0). auxCell(0,7,1). auxCell(0,7,2). auxCell(0,7,3). auxCell(0,7,4). auxCell(0,7,5). auxCell(0,7,6). auxCell(0,7,7). auxCell(0,7,8). auxCell(0,7,9). auxCell(0,7,10). auxCell(0,8,0). auxCell(0,8,1). auxCell(0,8,2). auxCell(0,8,3). auxCell(2,8,4). auxCell(0,8,5). auxCell(0,8,6). auxCell(0,8,7). auxCell(0,8,8). auxCell(0,8,9). auxCell(0,8,10). auxCell(0,9,0). auxCell(0,9,1). auxCell(0,9,2). auxCell(0,9,3). auxCell(0,9,4). auxCell(0,9,5). auxCell(0,9,6). auxCell(0,9,7). auxCell(0,9,8). auxCell(0,9,9). auxCell(0,9,10). auxCell(0,10,0). auxCell(0,10,1). auxCell(0,10,2). auxCell(0,10,3). auxCell(0,10,4). auxCell(0,10,5). auxCell(0,10,6). auxCell(0,10,7). auxCell(0,10,8). auxCell(0,10,9). auxCell(0,10,10).

cell(State,Row,Column):-control(2),auxCell(State,Row,Column).
cell(2,Column,Row):-control(1),auxCell(1,Row,Column).
cell(1,Column,Row):-control(1),auxCell(2,Row,Column).
cell(0,Column,Row):-control(1),auxCell(0,Row,Column).
specified:-ai(X).
control(2):-not specified.
control(X):-ai(X).
response(X,Y)|noResponse(X,Y):-cell(0,X,Y).
dim(N):-M=#max{C:cell(_,_,C)},N=(M+1).
column(C):-cell(_,_,C).
aux5(X0,X1):-oppWall(X0,X1,X2,X3).
aux_4_1(Y1,X1,Row):-cell(0,Row,Y1),aux5(X1,Y1),Row<X1.
stoppableWall(X1,Y1,X2,Y2,"TOP-SIDE"):-oppWall(X1,Y1,X2,Y2),not 0=#count{Row:aux_4_1(Y1,X1,Row)}.
aux7(X1,X2):-oppWall(X0,X1,X2,X3).
aux_6_1(X2,Y1,Row):-cell(0,Row,Y1),aux7(Y1,X2),Row>X2.
stoppableWall(X1,Y1,X2,Y2,"BOTTOM-SIDE"):-oppWall(X1,Y1,X2,Y2),not 0=#count{Row:aux_6_1(X2,Y1,Row)}.
aux9(X0,X1,X2,X3):-stoppableWall(X0,X1,X2,X3,X4).
aux_8_1(C,R2,R1):-aux9(R1,C,R2,C),R1<R2.
weightBlockInColumn(Weight,C):-column(C),Weight=#count{R1,R2:aux_8_1(C,R2,R1)}.
edgeStoppableWall(X1,Y1,X2,Y2,"TOP-SIDE"):-stoppableWall(X1,Y1,X2,Y2,"TOP-SIDE"),X3=(X1-1),cell(Color,X3,Y1),Color!=1.
edgeStoppableWall(X1,Y1,X2,Y2,"BOTTOM-SIDE"):-stoppableWall(X1,Y1,X2,Y2,"BOTTOM-SIDE"),X3=(X2+1),cell(Color,X3,Y1),Color!=1.
perfectStoppableWall(X1,Y,X2,Y,"TOP-SIDE"):-edgeStoppableWall(X1,Y,X2,Y,"TOP-SIDE"),R=(X1-3),cell(0,R,Y).
perfectStoppableWall(X1,Y,X2,Y,"BOTTOM-SIDE"):-edgeStoppableWall(X1,Y,X2,Y,"BOTTOM-SIDE"),R=(X2+3),cell(0,R,Y).
aux10(X0,X1,X3,X4):-perfectStoppableWall(X0,X1,X2,X3,X4).
movePerformsPerfectBlock:-response(X,Y),aux10(X1,Y,Y,"TOP-SIDE"),X=(X1-3).
aux11(X1,X2,X3,X4):-perfectStoppableWall(X0,X1,X2,X3,X4).
movePerformsPerfectBlock:-response(X,Y),aux11(Y,X2,Y,"BOTTOM-SIDE"),X=(X2+3).
oppWall(X1,Y,X2,Y):-cell(1,X1,Y),cell(1,X2,Y),X2>X1,cell(1,X,Y),X1=(X-1),X2=(X+1).
:-ai(X),ai(Y),X!=Y.
:-ai(X),X>2.
:-ai(X),X<1.
:-not 1=#count{X,Y:response(X,Y)}.
:~response(X,Y1),weightBlockInColumn(W,Y),Y1!=Y. [W@3]
:~perfectStoppableWall(_,_,_,_,_),not movePerformsPerfectBlock. [1@1]
